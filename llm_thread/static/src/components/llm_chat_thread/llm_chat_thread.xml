<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="llm_thread.LLMChatThread" owl="1">
        <div class="o_LLMChatThread d-flex flex-column h-100">
            <!-- Header -->
            <div class="o_LLMChatThread_header border-bottom p-3">
                <h3 class="mb-0" t-esc="thread.name"/>
            </div>
            
            <!-- Messages -->
            <div class="o_LLMChatThread_content flex-grow-1 overflow-auto">
                <t t-if="thread.cache?.isLoading">
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </t>
                <t t-else="">
                    <!-- Message List -->
                    <LLMChatMessageList record="threadView.messageListView"/>
                </t>
            </div>

            <!-- Chat Composer - Moved outside scrollable area -->
            <div class="o_LLMChatThread_composer border-top p-3">
                <LLMChatComposer record="threadView.composerView"/>
            </div>
        </div>
    </t>
</templates>