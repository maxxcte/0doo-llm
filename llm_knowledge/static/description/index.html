<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM RAG - Retrieval Augmented Generation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #6f42c1;
            padding-bottom: 20px;
        }
        .header h1 {
            color: #6f42c1;
        }
        h2, h3 {
            color: #6f42c1;
            margin-top: 30px;
        }
        .feature-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            flex: 1 1 300px;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .feature-card h3 {
            margin-top: 0;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .pipeline {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        .pipeline-step {
            flex: 1 1 200px;
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin: 10px;
            position: relative;
        }
        .pipeline-step:not(:last-child):after {
            content: "→";
            position: absolute;
            right: -15px;
            top: 50%;
            font-size: 24px;
            color: #6f42c1;
        }
        @media (max-width: 768px) {
            .pipeline-step:not(:last-child):after {
                content: "↓";
                position: absolute;
                right: 50%;
                bottom: -20px;
                top: auto;
            }
        }
        .note {
            background-color: #f3e5ff;
            border-left: 5px solid #6f42c1;
            padding: 15px;
            margin: 20px 0;
        }
        code {
            background-color: #f5f5f5;
            padding: 2px 5px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
        }
        .extensibility {
            margin: 40px 0;
        }
        .extension-table {
            width: 100%;
            border-collapse: collapse;
        }
        .extension-table th,
        .extension-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .extension-table th {
            background-color: #f3e5ff;
        }
        .extension-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 14px;
            color: #666;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .usage-steps {
            margin: 20px 0;
        }
        .usage-step {
            background-color: #f8f9fa;
            border-left: 4px solid #6f42c1;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 4px 4px 0;
        }
        .usage-step h4 {
            margin-top: 0;
            color: #6f42c1;
        }
        .img-wrapper {
            text-align: center;
            margin: 20px 0;
        }
        .img-placeholder {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
            padding: 20px;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>LLM RAG - Retrieval Augmented Generation</h1>
    <p>A comprehensive solution for implementing Retrieval Augmented Generation in Odoo</p>
</div>

<div class="note">
    <strong>What is RAG?</strong> Retrieval Augmented Generation (RAG) enhances Large Language Models by retrieving relevant information from a knowledge base before generating responses, improving accuracy and providing up-to-date information from your Odoo data.
</div>

<h2>Key Features</h2>
<div class="feature-list">
    <div class="feature-card">
        <h3>Document Management</h3>
        <p>Complete system for organizing, tracking, and processing documents for RAG:</p>
        <ul>
            <li>Document status tracking</li>
            <li>Multiple document sources</li>
            <li>Attachment handling</li>
            <li>Collection-based organization</li>
            <li>Activity logging</li>
        </ul>
    </div>
    <div class="feature-card">
        <h3>Vector Search</h3>
        <p>Advanced semantic search capabilities:</p>
        <ul>
            <li>Integration with PostgreSQL pgvector</li>
            <li>Cosine similarity matching</li>
            <li>Optimized vector indices</li>
            <li>Model-specific embeddings</li>
            <li>Configurable similarity thresholds</li>
        </ul>
    </div>
    <div class="feature-card">
        <h3>User Interface</h3>
        <p>Intuitive interfaces for managing the RAG process:</p>
        <ul>
            <li>Document creation wizard</li>
            <li>File upload wizard</li>
            <li>Domain filtering wizard</li>
            <li>Document processing dashboard</li>
            <li>Kanban and list views</li>
        </ul>
    </div>
</div>

<h2>Complete RAG Pipeline</h2>
<p>The module implements a full end-to-end pipeline for processing documents:</p>
<div class="pipeline">
    <div class="pipeline-step">
        <h3>Retrieve</h3>
        <p>Extract document content from source records or URLs</p>
    </div>
    <div class="pipeline-step">
        <h3>Parse</h3>
        <p>Convert to standardized format (markdown)</p>
    </div>
    <div class="pipeline-step">
        <h3>Chunk</h3>
        <p>Split into semantic segments with configurable overlap</p>
    </div>
    <div class="pipeline-step">
        <h3>Embed</h3>
        <p>Create vector representations using AI models</p>
    </div>
</div>

<h2>Document Sources</h2>
<p>The module supports multiple ways to create RAG documents:</p>

<div class="usage-steps">
    <div class="usage-step">
        <h4>Odoo Records</h4>
        <p>Create RAG documents directly from any Odoo record:</p>
        <ul>
            <li>Select records in any model</li>
            <li>Use the "Create RAG Document" server action</li>
            <li>Documents retain references to the original records</li>
        </ul>
    </div>

    <div class="usage-step">
        <h4>File Uploads</h4>
        <p>Upload local files to create RAG documents:</p>
        <ul>
            <li>PDF files with text and image extraction</li>
            <li>Text files with automatic formatting</li>
            <li>HTML files with conversion to markdown</li>
            <li>And other document formats</li>
        </ul>
    </div>

    <div class="usage-step">
        <h4>External URLs</h4>
        <p>Create RAG documents from web content:</p>
        <ul>
            <li>Automatic retrieval and parsing</li>
            <li>HTML-to-markdown conversion</li>
            <li>Link normalization for references</li>
            <li>Support for various content types</li>
        </ul>
    </div>

    <div class="usage-step">
        <h4>Domain Filters</h4>
        <p>Automatically create documents from record sets:</p>
        <ul>
            <li>Define Odoo domains for specific models</li>
            <li>Bulk create documents for matching records</li>
            <li>Automatic updates when domain data changes</li>
        </ul>
    </div>
</div>

<h2>Extensible Architecture</h2>
<p>The module is designed to be highly extensible, allowing developers to customize each step of the RAG pipeline:</p>

<div class="extensibility">
    <table class="extension-table">
        <thead>
        <tr>
            <th>Component</th>
            <th>Purpose</th>
            <th>How to Extend</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><strong>Retrievers</strong></td>
            <td>Extract content from different record types and sources</td>
            <td>Extend <code>_get_available_retrievers</code> method and implement a custom retriever method</td>
        </tr>
        <tr>
            <td><strong>Parsers</strong></td>
            <td>Process different file formats (PDF, text, JSON, etc.)</td>
            <td>Extend <code>_get_available_parsers</code> method and implement a custom parser method</td>
        </tr>
        <tr>
            <td><strong>Chunkers</strong></td>
            <td>Implement different document segmentation algorithms</td>
            <td>Extend <code>_get_available_chunkers</code> method and implement a custom chunker method</td>
        </tr>
        <tr>
            <td><strong>Models</strong></td>
            <td>Add RAG capabilities to any Odoo model</td>
            <td>Implement <code>rag_retrieve</code> and <code>rag_parse</code> methods on your model</td>
        </tr>
        </tbody>
    </table>
</div>

<h2>Document Collections</h2>
<p>Collections are at the heart of the RAG system, organizing documents for effective retrieval:</p>
<ul>
    <li><strong>Unified Knowledge Base</strong>: Group related documents together</li>
    <li><strong>Embedding Models</strong>: Each collection uses a specific embedding model</li>
    <li><strong>Bulk Operations</strong>: Process, embed, and reindex documents in batches</li>
    <li><strong>Domain Management</strong>: Add documents based on domain filters</li>
</ul>

<div class="img-wrapper">
    <div class="img-placeholder">
        <p>[Collection Management Interface Image]</p>
        <p>The document collection interface allows for efficient organization and processing of RAG documents</p>
    </div>
</div>

<h2>Getting Started</h2>
<h3>Installation</h3>
<p>Install the module and its dependencies:</p>
<ol>
    <li>Install the base <code>llm</code> and <code>llm_pgvector</code> modules</li>
    <li>Install Python dependencies: <code>PyMuPDF</code>, <code>numpy</code>, <code>requests</code>, and <code>markdownify</code></li>
    <li>Install the <code>llm_rag</code> module</li>
</ol>

<h3>Configuration</h3>
<p>Set up your embedding models and configure the RAG pipeline:</p>
<ol>
    <li>Configure embedding models in the LLM settings</li>
    <li>Create collections with appropriate embedding models</li>
    <li>Add documents to collections through one of the supported methods</li>
    <li>Process documents through the RAG pipeline</li>
</ol>

<h3>Usage Workflows</h3>
<p>Common usage workflows include:</p>
<ul>
    <li><strong>Document Creation</strong>: Using wizards to create documents from various sources</li>
    <li><strong>Document Processing</strong>: Handling documents through the pipeline stages</li>
    <li><strong>Collection Management</strong>: Organizing documents into knowledge bases</li>
    <li><strong>Vector Search</strong>: Performing semantic searches on document chunks</li>
</ul>

<div class="note">
    <strong>Performance Tips:</strong> For optimal performance with large document collections, consider:
    <ul>
        <li>Processing documents in batches rather than individually</li>
        <li>Adjusting chunk sizes based on your content type</li>
        <li>Using collection-specific embedding models for better search accuracy</li>
    </ul>
</div>

<h2>Integration with LLM Module</h2>
<p>The RAG module integrates seamlessly with the LLM module, enhancing AI capabilities with your Odoo data:</p>
<ul>
    <li>Augment AI responses with relevant information from your documents</li>
    <li>Provide context from your business data for more accurate answers</li>
    <li>Keep AI responses aligned with your company's knowledge base</li>
</ul>

<div class="footer">
    <p>Developed by Apexive Solutions LLC | Licensed under LGPL-3</p>
</div>

</body>
</html>
